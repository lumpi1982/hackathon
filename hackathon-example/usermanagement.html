<!DOCTYPE html>
<html ng-app="myApp">
<head>

<meta charset="UTF-8">
<title>Insert title here</title>
</head>

<body ng-controller="UserController">

	Name:
	<input type="text" ng-model="name" />
	<button ng-click="update(name)">SAVE</button>
	<br /> {{ name }}

	<!-- ng-repeat for iterating over array -> user angular JS FILTER  -->
	<ul>
		<li ng-repeat="user in users | filter:name">{{ user.name }}</li>
	</ul>


	<script
		src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular.min.js"></script>
	<script>
		var myApp = angular.module('myApp', []);

		myApp.controller('UserController', [
				'$scope',
				'$http',
				function($scope, $http) {
					//$scope.users=[{name: 'John doe'}, {name: 'Foo Bar'}];

					$http.get("http://localhost:8000/getAllUser").success(
							function(data, status, headers, config) {
								$scope.users = data;
							}).error(function(data, status, headers, config) {
						// ...
					});

					$scope.update = function(name) {
						$http.get("http://localhost:8000/pushUser?username=" + name).success(
								function(data, status, headers, config) {
									$http.get("http://localhost:8000/getAllUser").success(
											function(data, status, headers, config) {
												$scope.users = data;
											}).error(function(data, status, headers, config) {
										// ...
									});
								}).error(
								function(data, status, headers, config) {
									// ...
								});
					};
				} ]);
	</script>
</body>

</html>